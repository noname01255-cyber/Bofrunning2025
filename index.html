<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOF Running 2025: Explorer's Journey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;500;700&family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ---------- ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ò‡∏µ‡∏°‡∏≠‡∏ß‡∏Å‡∏≤‡∏® (‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâd‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å) ---------- */
        body {
            font-family: 'Kanit', sans-serif;
            background: url('https://images.unsplash.com/photo-1446776811953-b23d57bd21aa') no-repeat center center fixed;
            background-size: cover;
            position: relative;
            overflow-x: hidden;
        }
        /* ‡πÄ‡∏•‡πÄ‡∏¢‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏î + gradient ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏ó‡∏±‡∏ö‡∏ö‡∏ô‡∏†‡∏≤‡∏û */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: linear-gradient(-45deg, rgba(15,23,42,0.6), rgba(30,41,59,0.6), rgba(51,65,85,0.6), rgba(30,41,59,0.6));
            background-size: 400% 400%;
            animation: gradient-animation 15s ease infinite;
            z-index: -1;
        }

        .font-pixel {
            font-family: 'Press Start 2P', cursive;
        }
        .podium-container {
            transition: all 0.3s ease;
        }
        .podium-container:hover {
            transform: translateY(-10px);
            z-index: 20;
        }
        .podium-card {
            background-color: rgba(45, 55, 72, 0.85);
            backdrop-filter: blur(10px);
        }
        .runner-card, .guide-card {
            background-color: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 2px solid #475569;
            transition: all 0.3s ease-in-out;
            animation: fadeInUp 0.5s ease-out forwards;
            opacity: 0;
        }
        .runner-card:hover {
            transform: translateY(-5px) scale(1.03);
            border-color: #93c5fd;
        }
        .text-shadow-pixel {
            text-shadow: 3px 3px 0px #1e293b;
        }
        .exp-bar-bg {
            background-color: #334155;
            border: 2px solid #475569;
            padding: 2px;
        }
        .achievement-icon {
            transition: all 0.3s ease;
        }
        .achievement-icon.locked {
            filter: grayscale(90%) opacity(0.4);
            transform: scale(0.9);
        }
        .achievement-icon.unlocked {
            filter: drop-shadow(0 0 5px #facc15);
        }
        .cosmic-text {
            background: -webkit-linear-gradient(#fde047, #f472b6, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="text-blue-100 p-4 sm:p-6 md:p-8">

    <div class="max-w-7xl mx-auto">

        <header class="text-center mb-10 md:mb-16">
            <h1 class="text-3xl md:text-5xl font-pixel text-yellow-300 text-shadow-pixel">
                BOF RUNNING 2025
            </h1>
            <p class="text-blue-300 text-lg font-semibold tracking-wider mt-2">WEEKLY UPDATE : 25 AUG 2025</p>
        </header>

        <section class="mb-12">
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-8 font-pixel text-yellow-300 text-shadow-pixel">Podium Leaders</h2>
            <div class="flex flex-col md:flex-row justify-center items-end gap-4">
                <div id="podium-2" class="w-full md:w-1/3 order-2 md:order-1 podium-container"></div>
                <div id="podium-1" class="w-full md:w-1/3 order-1 md:order-2 podium-container z-10"></div>
                <div id="podium-3" class="w-full md:w-1/3 order-3 md:order-3 podium-container"></div>
            </div>
        </section>

        <section class="mb-12">
             <h2 class="text-2xl md:text-3xl font-bold text-center mb-8 font-pixel text-blue-300 text-shadow-pixel">Explorer Status</h2>
            <div id="leaderboard-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">
            </div>
        </section>

        <section class="mb-12">
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-8 font-pixel text-yellow-300 text-shadow-pixel">Achievement Guide</h2>
            <div id="achievement-guide" class="grid grid-cols-1 md:grid-cols-3 gap-5">
            </div>
        </section>

        <section>
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-8 font-pixel text-yellow-300 text-shadow-pixel">Leveling Guide</h2>
            <div id="level-guide" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">
            </div>
        </section>

    </div>

    <script>
        // Data for all runners - UPDATED 25 AUG 2025 with detailed weekly data
        const allRunners = [
            { rank: 1, name: "Fah", total: 398.86, june: [50.86, 56.31], july: [36.18, 50.43, 30.42, 50.01, 10.35], august: [50.12, 41.07, 23.11] },
            { rank: 2, name: "Nut", total: 398.27, june: [42.47, 41.70], july: [40.50, 40.00, 39.05, 36.00, 38.00], august: [44.00, 41.00, 35.55] },
            { rank: 3, name: "Mink", total: 309.53, june: [60.60, 43.20], july: [47.20, 29.38, 36.44, 18.61, 20.45], august: [23.73, 10.91, 19.01] },
            { rank: 4, name: "CHDJN", total: 298.05, june: [10.35, 21.02], july: [29.39, 33.34, 38.20, 36.30, 35.57], august: [26.94, 33.27, 33.67] },
            { rank: 5, name: "P'Pom", total: 271.27, june: [41.36, 28.60], july: [22.92, 45.60, 32.56, 20.26, 28.00], august: [21.38, 15.27, 15.32] },
            { rank: 6, name: "Ter", total: 230.49, june: [27.26, 27.86], july: [26.47, 31.55, 33.86, 31.56, 0.00], august: [28.37, 0.00, 23.56] },
            { rank: 7, name: "Pond", total: 146.20, june: [38.97, 18.17], july: [28.35, 10.00, 19.08, 0.00, 8.68], august: [14.76, 8.19, 0.00] },
            { rank: 8, name: "Meen", total: 88.29, june: [27.26, 0.00], july: [15.81, 10.04, 0.00, 13.60, 5.04], august: [0.00, 6.26, 10.28] },
            { rank: 9, name: "Toua", total: 72.57, june: [8.16, 0.00], july: [0.00, 4.97, 5.33, 0.00, 5.18], august: [10.21, 21.22, 17.50] },
            { rank: 10, name: "May", total: 30.31, june: [0.00, 0.00], july: [0.00, 3.56, 3.46, 4.17, 2.31], august: [5.43, 7.40, 3.98] },
            { rank: 11, name: "P'Mali", total: 25.38, june: [25.38, 0.00], july: [0.00, 0.00, 0.00, 0.00, 0.00], august: [0.00, 0.00, 0.00] },
            { rank: 12, name: "Tle", total: 6.00, june: [0.00, 0.00], july: [0.00, 0.00, 6.00, 0.00, 0.00], august: [0.00, 0.00, 0.00] },
            { rank: 13, name: "Beer", total: 0.00, june: [0.00, 0.00], july: [0.00, 0.00, 0.00, 0.00, 0.00], august: [0.00, 0.00, 0.00] }
        ];
        
        // Tier definitions for levels
        const tiers = [
            { level: 1, name: 'Backyard Runner', icon: 'üè°', min: 0, max: 20, color: 'text-gray-300' },
            { level: 2, name: 'Village Explorer', icon: 'üèòÔ∏è', min: 21, max: 50, color: 'text-green-300' },
            { level: 3, name: 'City Voyager', icon: 'üèôÔ∏è', min: 51, max: 100, color: 'text-blue-300' },
            { level: 4, name: 'Mountain Conqueror', icon: '‚õ∞Ô∏è', min: 101, max: 150, color: 'text-yellow-300' },
            { level: 5, name: 'Ocean Drifter', icon: 'üåä', min: 151, max: 200, color: 'text-purple-300' },
            { level: 6, name: 'Galaxy Trekker', icon: 'üåå', min: 201, max: 300, color: 'text-red-400' },
            { level: 7, name: 'Nebula Navigator', icon: 'üå†', min: 301, max: 400, color: 'text-pink-400' },
            { level: 8, name: 'Supernova Surfer', icon: 'üåü', min: 401, max: 550, color: 'text-indigo-400' },
            { level: 9, name: 'Blackhole Voyager', icon: '‚ö´', min: 551, max: 719, color: 'text-white' },
            { level: 10, name: 'Cosmic Deity', icon: '‚ú®', min: 720, max: Infinity, color: 'cosmic-text' }
        ];

        // Achievement Definitions
        const achievementList = [
            { id: 'consistency', icon: 'üëë', title: 'Consistency King', description: '‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ß‡∏¥‡πà‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 3 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡πÉ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°' },
            { id: 'finisher', icon: 'üî•', title: 'Finisher\'s Fury', description: '‡∏ó‡∏≥‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 30 ‡∏Å‡∏°.' },
            { id: 'veteran', icon: 'üéñÔ∏è', title: 'Month Veteran', description: '‡∏ó‡∏≥‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏™‡∏∞‡∏™‡∏°‡πÉ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏° ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ß‡πà‡∏≤ 100 ‡∏Å‡∏°.' }
        ];

        function getTierInfo(total) {
            return tiers.slice().reverse().find(t => total >= t.min);
        }
        
        // UPDATED Achievement Calculation Logic
        function calculateAchievements(runner) {
            const achievements = { consistency: false, finisher: false, veteran: false };

            // 1. Consistency King: Ran at least 3 weeks in July
            const weeksRanInJuly = runner.july.filter(week => week > 0).length;
            if (weeksRanInJuly >= 3) {
                achievements.consistency = true;
            }

            // 2. Finisher's Fury: Ran > 30km in the latest week of August
            const latestAugustRun = runner.august.length > 0 ? runner.august[runner.august.length - 1] : 0;
            if (latestAugustRun > 30) {
                achievements.finisher = true;
            }

            // 3. July Veteran: Total distance in July > 100km
            const julyTotal = runner.july.reduce((sum, current) => sum + current, 0);
            if (julyTotal > 100) {
                achievements.veteran = true;
            }
            
            return achievements;
        }

        // --- DOM Elements ---
        const leaderboardContainer = document.getElementById('leaderboard-grid');
        const achievementContainer = document.getElementById('achievement-guide');
        const levelContainer = document.getElementById('level-guide');

        // --- Card Generation Functions ---
        function createRunnerCard(runner, delay) {
            const tierInfo = getTierInfo(runner.total);
            const expInLevel = runner.total - tierInfo.min;
            const expForNextLevel = tierInfo.max - tierInfo.min;
            const progressPercentage = tierInfo.max === Infinity ? 100 : (expInLevel / expForNextLevel) * 100;
            const unlockedAchievements = calculateAchievements(runner);

            return `
                <div class="runner-card p-5 rounded-lg" style="animation-delay: ${delay}ms">
                    <div class="flex justify-between items-start mb-2">
                        <div>
                            <p class="font-bold text-sm ${tierInfo.color}">LV. ${tierInfo.level} ${tierInfo.name}</p>
                            <h4 class="text-2xl font-bold text-white">${runner.name}</h4>
                        </div>
                        <div class="text-4xl">${tierInfo.icon}</div>
                    </div>
                    <div class="text-right">
                        <p class="font-pixel text-3xl text-cyan-300">${runner.total.toFixed(2)} km</p>
                        <p class="text-sm font-bold text-yellow-400">${runner.total.toFixed(2)} EXP</p>
                    </div>
                    <div class="mt-3">
                        <div class="exp-bar-bg w-full rounded-full h-5">
                            <div class="bg-gradient-to-r from-cyan-400 to-blue-500 h-full rounded-full flex items-center justify-center" style="width: ${progressPercentage}%">
                                <span class="text-xs font-bold text-gray-800">${tierInfo.max === Infinity ? 'MAX' : 'EXP'}</span>
                            </div>
                        </div>
                        <p class="text-xs text-blue-200 text-right mt-1">
                            ${tierInfo.max === Infinity ? 'Legendary Status' : `${tierInfo.min} / ${tierInfo.max} km`}
                        </p>
                    </div>
                    <div class="border-t border-slate-600 mt-4 pt-2">
                        <p class="text-xs font-bold text-slate-400 mb-1">Achievements:</p>
                        <div class="flex gap-3">
                            <span class="text-2xl achievement-icon ${unlockedAchievements.consistency ? 'unlocked' : 'locked'}" title="${achievementList[0].title}: ${achievementList[0].description}">${achievementList[0].icon}</span>
                            <span class="text-2xl achievement-icon ${unlockedAchievements.finisher ? 'unlocked' : 'locked'}" title="${achievementList[1].title}: ${achievementList[1].description}">${achievementList[1].icon}</span>
                            <span class="text-2xl achievement-icon ${unlockedAchievements.veteran ? 'unlocked' : 'locked'}" title="${achievementList[2].title}: ${achievementList[2].description}">${achievementList[2].icon}</span>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function createPodiumCard(runner, podiumConfig) {
             const tierInfo = getTierInfo(runner.total);
             const expInLevel = runner.total - tierInfo.min;
             const expForNextLevel = tierInfo.max - tierInfo.min;
             const progressPercentage = tierInfo.max === Infinity ? 100 : (expInLevel / expForNextLevel) * 100;
             const unlockedAchievements = calculateAchievements(runner);
             
             return `
                 <div class="text-center">
                     <div class="text-7xl mb-2" style="text-shadow: 0 0 15px ${podiumConfig.shadowColor};">${podiumConfig.medal}</div>
                 </div>
                 <div class="runner-card p-5 rounded-lg border-2 ${podiumConfig.borderColor} ${podiumConfig.shadowClass}">
                     <div class="flex justify-between items-start mb-2">
                         <div>
                             <p class="font-bold text-sm ${tierInfo.color}">LV. ${tierInfo.level} ${tierInfo.name}</p>
                             <h4 class="text-2xl font-bold text-white">${runner.name}</h4>
                         </div>
                         <div class="text-4xl">${tierInfo.icon}</div>
                     </div>
                     <div class="text-right">
                         <p class="font-pixel text-3xl text-cyan-300">${runner.total.toFixed(2)} km</p>
                         <p class="text-sm font-bold text-yellow-400">${runner.total.toFixed(2)} EXP</p>
                     </div>
                     <div class="mt-3">
                         <div class="exp-bar-bg w-full rounded-full h-5">
                             <div class="bg-gradient-to-r from-cyan-400 to-blue-500 h-full rounded-full flex items-center justify-center" style="width: ${progressPercentage}%">
                                 <span class="text-xs font-bold text-gray-800">${tierInfo.max === Infinity ? 'MAX' : 'EXP'}</span>
                             </div>
                         </div>
                         <p class="text-xs text-blue-200 text-right mt-1">
                             ${tierInfo.max === Infinity ? 'Legendary Status' : `${tierInfo.min} / ${tierInfo.max} km`}
                         </p>
                     </div>
                     <div class="border-t border-slate-600 mt-4 pt-2">
                         <p class="text-xs font-bold text-slate-400 mb-1">Achievements:</p>
                         <div class="flex gap-3">
                             <span class="text-2xl achievement-icon ${unlockedAchievements.consistency ? 'unlocked' : 'locked'}" title="${achievementList[0].title}: ${achievementList[0].description}">${achievementList[0].icon}</span>
                             <span class="text-2xl achievement-icon ${unlockedAchievements.finisher ? 'unlocked' : 'locked'}" title="${achievementList[1].title}: ${achievementList[1].description}">${achievementList[1].icon}</span>
                             <span class="text-2xl achievement-icon ${unlockedAchievements.veteran ? 'unlocked' : 'locked'}" title="${achievementList[2].title}: ${achievementList[2].description}">${achievementList[2].icon}</span>
                         </div>
                     </div>
                 </div>
                 `;
        }

        // --- Data Processing and Rendering ---
        
        // Populate Podium
        const topThree = allRunners.filter(r => r.rank <= 3).sort((a,b) => a.rank - b.rank);
        const podiumConfigs = {
            1: { medal: 'ü•á', borderColor: 'border-yellow-400', shadowClass: 'shadow-yellow-400/30 shadow-lg', shadowColor: '#facc15' },
            2: { medal: 'ü•à', borderColor: 'border-slate-400', shadowClass: 'shadow-slate-400/30 shadow-lg', shadowColor: '#94a3b8' },
            3: { medal: 'ü•â', borderColor: 'border-orange-400', shadowClass: 'shadow-orange-400/30 shadow-lg', shadowColor: '#fb923c' }
        };
        topThree.forEach(runner => {
            const podiumEl = document.getElementById(`podium-${runner.rank}`);
            podiumEl.innerHTML = createPodiumCard(runner, podiumConfigs[runner.rank]);
             // Add vertical transform for #1
            if (runner.rank === 1) {
                podiumEl.classList.add('md:transform', 'md:-translate-y-8');
            }
        });

        // Populate Leaderboard for other runners
        const otherRunners = allRunners.filter(r => r.rank > 3).sort((a,b) => a.rank - b.rank);
        otherRunners.forEach((runner, index) => {
            leaderboardContainer.innerHTML += createRunnerCard(runner, index * 70);
        });

        // Populate Achievement Guide
        achievementList.forEach((ach, index) => {
            const cardHTML = `
                <div class="guide-card p-5 rounded-lg" style="animation-delay: ${index * 100}ms">
                    <div class="flex items-center gap-4">
                        <span class="text-5xl">${ach.icon}</span>
                        <div>
                            <h3 class="text-lg font-bold text-yellow-300">${ach.title}</h3>
                            <p class="text-sm text-blue-200">${ach.description}</p>
                        </div>
                    </div>
                </div>
            `;
            achievementContainer.innerHTML += cardHTML;
        });

        // Populate Leveling Guide
        tiers.forEach((tier, index) => {
            const requirement = tier.max === Infinity ? `> ${tier.min - 1} km` : `${tier.min} - ${tier.max} km`;
            const cardHTML = `
                <div class="guide-card p-5 rounded-lg" style="animation-delay: ${index * 100}ms">
                    <div class="flex items-center gap-4">
                        <span class="text-5xl">${tier.icon}</span>
                        <div>
                            <h3 class="text-lg font-bold ${tier.color}">LV.${tier.level} ${tier.name}</h3>
                            <p class="text-sm text-blue-200">‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£: ${requirement}</p>
                        </div>
                    </div>
                </div>
            `;
            levelContainer.innerHTML += cardHTML;
        });

    </script>

</body>
</html>
